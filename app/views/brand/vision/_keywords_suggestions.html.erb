<div id="keywords_suggestions">
  <% if keywords.any? %>
    <div class="space-y-3">
      <p class="text-sm font-medium text-gray-700">
        <i class="fa-solid fa-sparkles mr-1"></i>
        Click suggestions to add them:
      </p>

      <div class="flex flex-wrap gap-2">
        <% keywords.each do |keyword| %>
          <%= form_with model: brand.brand_vision,
                        url: brand_vision_path(brand),
                        method: :patch,
                        data: { turbo: true } do |f| %>
            <% current_keywords = brand.brand_vision.keywords || [] %>
            <% new_keywords = (current_keywords + [keyword]).uniq %>
            <% new_keywords.each do |k| %>
              <%= f.hidden_field "keywords[]", value: k %>
            <% end %>
            <button type="submit" class="inline-flex items-center px-3 py-1 rounded-full text-sm bg-pink-50 text-pink-700 border border-pink-200 hover:bg-pink-100 cursor-pointer transition-colors">
              <i class="fa-solid fa-plus mr-1 text-xs"></i>
              <%= keyword %>
            </button>
          <% end %>
        <% end %>
      </div>
    </div>
  <% else %>
    <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
      <div class="flex items-center space-x-3">
        <i class="fa-solid fa-info-circle text-yellow-600"></i>
        <p class="text-yellow-700 text-sm">No keyword suggestions could be generated. Please ensure you have a brand concept or mission statement filled in.</p>
      </div>
    </div>
  <% end %>
</div>
