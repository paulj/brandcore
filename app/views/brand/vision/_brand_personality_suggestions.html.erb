<div id="brand_personality_suggestions">
  <% if traits.any? || tone.any? %>
    <div class="space-y-4">
      <p class="text-sm font-medium text-gray-700">
        <i class="fa-solid fa-sparkles mr-1"></i>
        Click suggestions to add them:
      </p>

      <% if traits.any? %>
        <div>
          <p class="text-sm font-medium text-gray-600 mb-2">Suggested Traits:</p>
          <div class="flex flex-wrap gap-2">
            <% traits.each do |trait| %>
              <%= form_with model: brand.brand_vision,
                            url: brand_vision_path(brand),
                            method: :patch,
                            data: { turbo: true } do |f| %>
                <% current_traits = brand.brand_vision.traits || [] %>
                <% new_traits = (current_traits + [trait]).uniq %>
                <% new_traits.each do |t| %>
                  <%= f.hidden_field "traits[]", value: t %>
                <% end %>
                <button type="submit" class="inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-50 text-blue-700 border border-blue-200 hover:bg-blue-100 cursor-pointer transition-colors">
                  <i class="fa-solid fa-plus mr-1 text-xs"></i>
                  <%= trait %>
                </button>
              <% end %>
            <% end %>
          </div>
        </div>
      <% end %>

      <% if tone.any? %>
        <div>
          <p class="text-sm font-medium text-gray-600 mb-2">Suggested Tone:</p>
          <div class="flex flex-wrap gap-2">
            <% tone.each do |tone_item| %>
              <%= form_with model: brand.brand_vision,
                            url: brand_vision_path(brand),
                            method: :patch,
                            data: { turbo: true } do |f| %>
                <% current_tone = brand.brand_vision.tone || [] %>
                <% new_tone = (current_tone + [tone_item]).uniq %>
                <% brand.brand_vision.traits&.each do |t| %>
                  <%= f.hidden_field "traits[]", value: t %>
                <% end %>
                <% new_tone.each do |t| %>
                  <%= f.hidden_field "tone[]", value: t %>
                <% end %>
                <button type="submit" class="inline-flex items-center px-3 py-1 rounded-full text-sm bg-purple-50 text-purple-700 border border-purple-200 hover:bg-purple-100 cursor-pointer transition-colors">
                  <i class="fa-solid fa-plus mr-1 text-xs"></i>
                  <%= tone_item %>
                </button>
              <% end %>
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
      <div class="flex items-center space-x-3">
        <i class="fa-solid fa-info-circle text-yellow-600"></i>
        <p class="text-yellow-700 text-sm">No personality suggestions could be generated. Please ensure you have a brand concept or mission statement filled in.</p>
      </div>
    </div>
  <% end %>
</div>
